n 个人，编号从 1 到 n，从编号 1 的人开始循环报数(1, 2, 3, 1, 2, 3, ...)，报到 3 的人出列，记录其编号。

数组模拟：

```cpp
#include <iostream>
#include <vector>
#include <queue>
int main() {
    int n = 10;
    // std::cin >> n;
    std::vector<bool> flag;  // 表示是否出列
    std::queue<int> q;  // 记录出列的 index
    for (int i = 1; i <= n; ++ i) {
        flag.push_back(false);
    }

    // 开始报数
    int cnt = 0; // cnt + 1;
    int q_cnt = 0;  // 记录出列的人数
    int index = 0;
    while (q_cnt < n) {
        index = (index + 1) % n;  // 当前报数人的编号
        if (q_cnt == n - 1 && flag[index] == false) {
            q.push(index + 1);
            break;
        }
        if (flag[index] == true) continue;
        cnt = (cnt + 1) % 3;
        if ((cnt + 1) == 3) {
            flag[index] = true;
            q.push(index + 1);
            ++ q_cnt;
        }
        // std::cout << index << ", " << q_cnt << '\n';
    }

    while (!q.empty()) {
        std::cout << q.front() << ' ';
        q.pop();
    }
    std::cout << std::endl;
}
// 64 位输出请用 printf(\"%lld\")
```

输出：

```bash
3 6 9 2 7 1 8 5 10 4
```





链表：

```cpp
#include <iostream>

struct Node
{
    int index;
    Node* next;
    Node(int value) : index(value) {}
};

int main() {
    int n = 10;
    Node* head = nullptr;
    Node* tail = nullptr;
    for (int i = 1; i <= n; ++ i) {
        Node* temp = new Node(i);
        if (head == nullptr) head = temp;
        if (tail == nullptr) tail = temp;
        else {
            tail->next = temp;
            tail = temp;
        }
    }
    tail->next = head;

    Node* pre_node = tail;
    Node* curr_node = head;
    int cnt = 0;
    while (curr_node->next != curr_node)
    {
        cnt = (cnt + 1) % 3;
        if (cnt == 0) {
            std::cout << curr_node->index << ' ';
            pre_node->next = curr_node->next;
            delete curr_node;
            curr_node = pre_node->next;
            continue;
        }
        pre_node = curr_node;
        curr_node = curr_node->next;
    }
    std::cout << curr_node->index << '\n';
    delete curr_node;

    return 0;
}
```

输出

```bash
3 6 9 2 7 1 8 5 10 4
```

